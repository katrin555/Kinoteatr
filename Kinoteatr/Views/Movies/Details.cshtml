@model Movie
@{
    ViewData["Title"] = Model.Title;
}

<h1>@Model.Title</h1>
<p><strong>Жанр:</strong> @Model.Genre</p>
<p><strong>Длительность:</strong> @Model.Duration минут</p>
<p><strong>Возрастное ограничение:</strong> @Model.AgeRestriction</p>
<p><strong>Год выпуска:</strong> @Model.ReleaseYear</p>
<p><strong>Страна:</strong> @Model.ProductionCountry</p>
<p><strong>Описание:</strong> @Model.Description</p>

<h2>Ближайшие сеансы</h2>
<table>
    <thead>
        <tr>
            <th>Дата и время</th>
            <th>Зал</th>
            <th>Цена</th>
            <th>Действия</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var session in Model.Sessions.Where(s => s.Status == "active" && s.DateTime >= DateTime.Now).OrderBy(s => s.DateTime))
        {
            <tr>
                <td>@session.DateTime.ToString("dd.MM.yyyy HH:mm")</td>
                <td>@session.Hall.Name</td>
                <td>@session.Price руб.</td>
                <td><a asp-controller="Sessions" asp-action="Details" asp-route-id="@session.Id">Выбрать места</a></td>
            </tr>
        }
    </tbody>
</table>

